[HEADER]
VERSION=3

; Version of the drivetrain that the engine will load. It does NOT represent the development version of
; the car. Acceptable inputs are 1 through 3, with 3 being preferred as it includes latest features. Recommended input is 3.

[TRACTION]
TYPE=RWD

; Traction type of the vehicle. Acceptable values are RWD, FWD, AWD, AWD2.

[GEARS]
COUNT=1

; Number of forward gears. CHANGED TO 1 FOR ELECTRIC - Single-speed transmission typical of electric vehicles

; ▲ Electric vehicles typically use single-speed transmissions because electric motors provide strong torque
; across their entire RPM range, eliminating the need for multiple gears.

GEAR_R=-2.840

; Gear ratio for the reverse with any possible overdrive, but without final gear. Input example: -3.382

GEAR_1=9.00

; Forward gear ratio - ADJUSTED FOR ELECTRIC SINGLE-SPEED. Higher ratio for strong acceleration from standstill.
; This single gear provides good acceleration and top speed for electric motor characteristics.

; Electric motors don't need multiple gears due to their flat torque curve and wide power band.
; A ratio around 9.00 balances acceleration with top speed for most electric vehicles.

FINAL=3.27

; Final gear ratio - can keep similar to combustion engine or adjust based on desired top speed/acceleration balance

[DIFFERENTIAL]

; ▲▼ The rules for the differential are always required by AC to load, but not used (means still present) if the car has the AWD or AWD2 traction types.

POWER=0.020

; differential lock under power. 1.0=100% lock - 0 0% lock
; SLIGHTLY INCREASED for electric to handle instant torque delivery better

; "POWER" controls the maximum lock % for the limited-slip differential in the acceleration direction. Inputs are in %, so that 50% = 0.50.

COAST=0.020

; differential lock under coasting. 1.0=100% lock 0=0% lock
; ADJUSTED for regenerative braking characteristics - slight increase helps stability during regen

; "COAST" controls the maximum lock % for the limited-slip differential in the deceleration direction. Inputs are in %, so that 50% = 0.50.

; ▲▲ A value of 1.0 in both POWER and COAST is an exception for a welded or spool-type differential where the wheels are coupled directly together with
; no differential action. Use an input such as 0.999 for a "100%" clutchplate differential. Bear in mind also that real-world open differentials typically
; have some effective lock %, perhaps from 3 to 10% depending on friction ie: more when turning. For open diffs it would be beneficial to increase lock
; from 0.00 to 0.01 - 0.03 or so, to account for the internal friction of the system binding wheels together.

PRELOAD=15

; Differential preload torque setting. [Nm] - SLIGHTLY INCREASED for electric torque characteristics

; ▲ The preload is the minimum torque that is necessary to make the differential spin (due to internal friction). It can be measured via a torque wrench
; if you remove the differential from the vehicle.

[GEARBOX]
CHANGE_UP_TIME=0

; Mechanical upshift time. [ms] - SET TO 0 FOR ELECTRIC (instantaneous, no gear changes needed)

CHANGE_DN_TIME=0

; Mechanical downshift time. [ms] - SET TO 0 FOR ELECTRIC

AUTO_CUTOFF_TIME=0

; Auto cutoff time for upshifts, 0 set to 0 to disable. [ms] - NOT NEEDED FOR SINGLE-SPEED ELECTRIC

SUPPORTS_SHIFTER=1

; For modern shifter, does supports only paddles - KEEP AT 1

VALID_SHIFT_RPM_WINDOW=9999

; range window additional to the revs new matching rpm that permits gear engage. - SET VERY HIGH (no real shifting needed)

CONTROLS_WINDOW_GAIN=0

; multiple for any,brake,clutch pedal that permits gear engage on different rev matching rpm. the
; transmission will KEEP the old gear. - SET TO 0

INERTIA=0.02

; Gearbox inertia. By default value goes to 0.02 if not set. KEPT LOW FOR ELECTRIC (minimal rotating mass in single-speed)

[CLUTCH]
MAX_TORQUE=900

; Maximum torque capacity [Nm] - INCREASED FOR ELECTRIC MOTOR HIGH TORQUE

[AUTOCLUTCH]
UPSHIFT_PROFILE=NONE

; Name of the autoclutch profile for upshifts. NONE to disable autoclutch on shift up - SET TO NONE (not needed for single-speed)

DOWNSHIFT_PROFILE=DOWNSHIFT_PROFILE

; Name of the autoclutch profile for downshifts - CAN KEEP (though rarely used)

USE_ON_CHANGES=0

; Use the autoclutch on gear shifts even when autoclutch is set to off. Values: 1, 0. - SET TO 0

; ▲ Needed for cars with semiautomatic gearboxes - not really applicable for electric single-speed

[TRACTION_CONTROL]
MIN_RPM=1000

; Minimum rpm for autoclutch engagement - KEEP LOW FOR ELECTRIC

MAX_RPM=4000

; Maximum rpm for autoclutch engagement - ADJUSTED FOR ELECTRIC

FORCED_ON=0

; If =1 traction slider is manual or not - KEEP AT 0

[UPSHIFT_PROFILE]
POINT_0=0

; Time to reach fully depress clutch - NOT APPLICABLE FOR SINGLE-SPEED ELECTRIC

POINT_1=0

; Time to start releasing clutch - NOT APPLICABLE

POINT_2=0

; Time to reach fully released clutch - NOT APPLICABLE

[DOWNSHIFT_PROFILE]
POINT_0=0

; Time to reach fully depress clutch - NOT APPLICABLE FOR SINGLE-SPEED ELECTRIC

POINT_1=0

; Time to start releasing clutch - NOT APPLICABLE

POINT_2=0

; Time to reach fully released clutch - NOT APPLICABLE

[AUTOLIFT]
ELECTRONIC=0

; If =1 then it is a feature of the car and cannot be disabled - KEEP AT 0

POINT_0=0

; Time to reach full level - NOT NEEDED FOR ELECTRIC

POINT_1=0

; Time to start holding the gas - NOT NEEDED

POINT_2=0

; Time to reach 0 gas - NOT NEEDED

LEVEL=0.45

; Gas level to be reached - NOT APPLICABLE

[DAMAGE]
RPM_WINDOW_K=100

; Damage multiplier for over-revving - CAN KEEP (though electric motors are more tolerant)

[AUTO_SHIFTER]
UP=5000

; RPM threshold for automatic upshifting - NOT REALLY APPLICABLE FOR SINGLE-SPEED, but keep reasonable value

DN=3000

; RPM threshold for automatic downshifting - NOT APPLICABLE

SLIP_THRESHOLD=0.90

; Slip ratio needed to shift up regardless of rpm - ADJUSTED FOR ELECTRIC MOTOR CHARACTERISTICS

GAS_CUTOFF_TIME=0.170

; Gas cutoff time during shifts [s] - SET LOW/ZERO FOR ELECTRIC (instant power modulation)

[DOWNSHIFT_PROTECTION]
ACTIVE=1

; Automatic protection to prevent engine damage when downshifting too early or at high vehicle speed - CAN KEEP AT 1

OVERREV=0

; Adds a line in the log for every missed downshift - KEEP AT 0

OVERREV=200

; How many RPM over the limiter the car is allowed to go - KEEP LOW (electric motors can handle brief over-rev better)

LOCK=1

; If 1, will lock the requested gear and the car will become stationary - KEEP AT 1

[AWD]

; ▲▼ If you set the traction TYPE under [TRACTION] to AWD, the lines below must be present. [AWD] codes are required by AC even if you set [TRACTION] to
; AWD2, but they are not used. Keep in mind that the lines must be included, whichever the traction type is.
; NOT APPLICABLE FOR RWD ELECTRIC, but keeping for reference

FRONT_SHARE=50

; AWD front mechanical split in full percentage values. For example 50% = 50. [0 - 100]

; NOTE: If FRONT_SHARE is set to 50, you can use FRONT_BIAS=50, FRONT_BIAS=60, FRONT_BIAS=40 but NOT FRONT_BIASED= data in the line below and related lines.
; Front wheels and rear.

FRONT_DIFF_POWER=0.02

; same as "POWER" but for AWD type.

FRONT_DIFF_COAST=0.02

; same as "COAST" but for AWD type.

FRONT_DIFF_PRELOAD=2

; same as "PRELOAD" but for AWD type.

CENTRE_DIFF_POWER=0.002

; same as "POWER" but for AWD type.

CENTRE_DIFF_COAST=0.002

; same as "COAST" but for AWD type.

CENTRE_DIFF_PRELOAD=2

; same as "PRELOAD" but for AWD type.

REAR_DIFF_POWER=0.02

; same as "POWER" but for AWD type.

REAR_DIFF_COAST=0.02

; same as "COAST" but for AWD type.

REAR_DIFF_PRELOAD=2

; same as "PRELOAD" but for AWD type.

; ▲ Like for [DIFFERENTIAL], here setting = _DIFF_POWER and =_DIFF_COAST to a value of 1.0 for any of the differentials is a special case in AC that
; removes the diff and makes it a spool.

[AWD2]
FRONT_DIFF_POWER=0.02

; same as "POWER" but for AWD2 type.

FRONT_DIFF_COAST=0.02

; same as "COAST" but for AWD2 type.

FRONT_DIFF_PRELOAD=2

; same as "PRELOAD" but for AWD2 type.

CENTRE_MAX_TORQUE=60.0

; Maximum torque for Viscous center differential, per rad/s of differential speed between front and rear axle. [Nm]

CENTRE_K=80.0

; Maximum torque for Viscous center differential, at the wheels after gearing. [Nm]

; ▲ AWD2 has a viscous coupling based on wheel speed difference. And it can't provide preload.

; You may use CENTRE_RAMP_TORQUE_MAP (default 800 TORQUE) to help model the non-linear AWD2 center diff controller to monotone the "maximum
; lock" of the center differential. Bear in mind that lower gears will offer a lower effective maximum lock % than higher gears due to greater amount of
; torque available, which will result in better differentials. Typical values are approximated to be 800 - 1500Nm.

; Bear in mind that AWD2 is only capable of 0/100 to 50/50 split, but not FWD biased.

REAR_DIFF_POWER=0.02

; same as "POWER" but for AWD2 type.

REAR_DIFF_COAST=0.02

; same as "COAST" but for AWD2 type.

REAR_DIFF_PRELOAD=2

; same as "PRELOAD" but for AWD2 type.

; ▲ Like for [DIFFERENTIAL] and for [AWD], here setting =_DIFF_POWER and =_DIFF_COAST to a value of 1.0 for any of the differentials is a special case in
; AC that removes the diff and makes it a spool.

; =============================================
; ELECTRIC VEHICLE NOTES:
; =============================================
; 
; Key modifications for electric drivetrain:
; 
; 1. SINGLE-SPEED TRANSMISSION (COUNT=1)
;    - Electric motors provide strong torque across entire RPM range
;    - No need for multiple gears
;    - GEAR_1 set to ~9.00 for good balance of acceleration and top speed
;
; 2. INSTANT GEAR CHANGES (times set to 0)
;    - No mechanical shifting delays
;    - Power delivery is immediate
;
; 3. DIFFERENTIAL TUNING
;    - Slightly increased POWER lock (0.020) to handle instant torque
;    - Adjusted COAST lock (0.020) for regenerative braking stability
;    - Increased PRELOAD (15 Nm) for better torque handling
;
; 4. CLUTCH
;    - Increased MAX_TORQUE (900 Nm) to handle electric motor torque
;    - Autoclutch mostly disabled for single-speed operation
;
; 5. No traditional shifting mechanics needed
;    - All shift timing parameters set to 0 or minimal values
;
; This configuration provides the characteristic smooth, instant power delivery
; of electric vehicles while maintaining stability and control.
